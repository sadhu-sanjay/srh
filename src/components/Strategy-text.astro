<script>
  import { break9, break10, break11, break12 } from "../constants";

  const isMobile = window.matchMedia("(max-width: 639px)").matches;
  const isTablet = window.matchMedia(
    "(min-width: 640px) and (max-width: 1023px)"
  ).matches;
  const isLaptop = window.matchMedia(
    "(min-width: 1024px) and (max-width: 1279px)"
  ).matches;
  const isLaptopLarge = window.matchMedia(
    "(min-width: 1280px) and (max-width: 1535px)"
  ).matches;
  const isDesktop = window.matchMedia("(min-width: 1536px)").matches;

  const elementScroll = document.getElementById("main-window");
  const strategyText = document.getElementById("strategy-text") as HTMLElement;

  elementScroll?.addEventListener("scroll", (el: Event) => {
    const target = el.target as HTMLElement;
    const scrollableHeight = target.scrollHeight - window.outerHeight;
    const scrollPercentage = (target.scrollTop / scrollableHeight) * 100;

    if (scrollPercentage < break9) {
      strategyText.style.left = "160%";
    } else if (scrollPercentage > break9 && scrollPercentage <= break10) {


      if (isMobile){

        strategyText.style.left = "56%";
      strategyText.style.top = "0";
      } else if (isLaptopLarge) {
        strategyText.style.left = "66%";
      strategyText.style.top = "25%";
      } else if (isDesktop) {
        strategyText.style.left = "71%";
      strategyText.style.top = "25%";
      }

    } else if (scrollPercentage > break10) strategyText.style.top = "106%";
  });
</script>
