---
import Image from "astro/components/Image.astro";
---

<main id="main-window" class="relative h-[100dvh] w-full bg-white">
  <div id="spacer" class="h-[200dvh] w-full bg-primary">
    <img
      id="logo"
      src="SRHLogo_Glitch.gif"
      alt="SRH Logo website logo"
      class="sticky left-1/2 top-1/2 w-1/3 -translate-x-1/2 -translate-y-1/2 transition-all duration-700 sm:w-3/12 sm:landscape:w-1/12"
    />

    <div
      id="mainTitle"
      class="sticky translate-y-1/2 text-center text-accent transition-all duration-700"
    >
      <h1
        id="mainText"
        class="py-0 text-[6.5rem] font-extrabold leading-none sm:text-[11.5rem] md:text-[13.5rem] lg:text-[18.5rem] xl:text-[32.5rem]"
      >
        AR<span>I</span>SE
      </h1>
      <div id="subText" class="text-[1.8rem] font-bold leading-none">
        YE SLEEPING GIANTS
      </div>
    </div>

  </div>
</main>

<script>
  const break1 = 10;
  const break2 = 20;

  const logo = document.getElementById("logo") as HTMLImageElement;
  const main = document.getElementById("main-section") as HTMLElement;
  const mainTitle = document.getElementById("mainTitle") as HTMLElement;
  const iID = document.getElementById("iID") as HTMLElement;

  function insertInMainFunction(text: string) {
    const newh1 = document.createElement("h1"); // Create a new h1 element
    newh1.textContent = text; // Set the text content
    main.appendChild(newh1); // Append the new h1 element to the main element
  }

  window.addEventListener("scroll", (ev: Event) => {
    const scrollY = window.scrollY;
    const scrollHeight = document.documentElement.scrollHeight;
    const scrobbaleHeight = scrollHeight - window.outerHeight;

    const scrolledPercentage = (scrollY / scrobbaleHeight) * 100;

    if (scrolledPercentage <= break1) {
      logo.style.left = "50%";
      logo.style.top = "50%";
      logo.style.transform = "translate(-50%,-50%)";
      mainTitle.style.bottom = "-50%";
    } else if (scrolledPercentage > break1) {
      logo.style.left = "4%";
      logo.style.top = "2%";
      logo.style.transform = "translate(0,0)";

      mainTitle.style.bottom = "0%";
    } else if (scrolledPercentage > break2) {
      iID.style.height = "20vh";
    }
  });
</script>
